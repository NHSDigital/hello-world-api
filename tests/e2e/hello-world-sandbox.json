{
  "info": {
    "_postman_id": "f165b5e7-772f-40c7-8e7f-6b76f4f02d2b",
    "name": "Hello World API Sandbox",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Hello World",
      "item": [
        {
          "name": "Hello World - Success",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "id": "18e6611a-f47a-4bb1-8540-c1bab62695ab",
                "exec": [
                  "pm.environment.set(\"expected_greeting\", \"Hello World!\");"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "id": "83d1055f-42ef-440d-bcbb-d41fab641862",
                "exec": [
                  "pm.test(\"Returns status code 200 OK\", () => {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test(\"Returns correct mock response\", () => {",
                  "    const responseJson = pm.response.json()",
                  "    const expectedGreeting = pm.environment.get(\"expected_greeting\")",
                  "    pm.expect(responseJson.message).to.eql(expectedGreeting)",
                  "})"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/hello/world",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "hello/world"
              ]
            }
          },
          "response": []
        }
      ],
      "protocolProfileBehavior": {}
    },
		{
			"name": "Application-restricted request",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "d7f1fede-ce36-4ecf-a059-a40e1d887744",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.test(\"Message recieved is correct 'Hello Application!'\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.message).to.eql('Hello Application!');",
							"});",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"auth": {
					"type": "apikey",
					"apikey": [
						{
							"key": "value",
							"value": "sZWnPFJ3avWGjlu6jT9SrWvzreKMaAlB",
							"type": "string"
						},
						{
							"key": "key",
							"value": "apikey",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://sandbox.api.service.nhs.uk/hello/application",
					"protocol": "https",
					"host": [
						"sandbox",
						"api",
						"service",
						"nhs",
						"uk"
					],
					"path": [
						"hello",
						"application"
					]
				}
			},
			"response": []
		},{
			"name": "User-restricted request ",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "6657f7ec-1786-427c-b208-f8c123685901",
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "5bc14a21-6ab0-4bc8-9bf4-92e6fc720d30",
						"exec": [
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"pm.test(\"Message recieved is correct 'Hello User!'\", function () {",
							"    var jsonData = pm.response.json();",
							"    pm.expect(jsonData.message).to.eql(\"Hello User!\");",
							"});",
							"pm.test(\"Content-Type is present\", function () {",
							"    pm.response.to.have.header(\"Content-Type\");",
							"});"
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "oauth2",
					"oauth2": [
						{
							"key": "accessToken",
							"value": "w7DlHT56HIaS-L1ZNT0a1EWQ2w0",
							"type": "string"
						},
						{
							"key": "tokenType",
							"value": "Bearer",
							"type": "string"
						},
						{
							"key": "addTokenTo",
							"value": "header",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "urlencoded",
					"urlencoded": []
				},
				"url": {
					"raw": "https://internal-dev.api.service.nhs.uk/hello-world-AMB-44-add-test-step-to-pipeline/hello/user",
					"protocol": "https",
					"host": [
						"internal-dev",
						"api",
						"service",
						"nhs",
						"uk"
					],
					"path": [
						"hello-world-AMB-44-add-test-step-to-pipeline",
						"hello",
						"user"
					]
				},
				"description": "In order to use this endpoint successfully you must request a new access token. Navigate to the Authorization tab and select 'Get New Access Token'. The fields will be autopopulated correctly."
			},
			"response": []
		}
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "id": "ae78af2b-9e9f-477c-aa3d-3395650967dc",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "id": "212cdb5c-8e1b-424a-bf3b-b06314fbece2",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ],
  "variable": [
    {
      "id": "068f4244-0756-4c67-8700-d2b244e61fd9",
      "key": "api_key",
      "value": "xlNAz98DIP3I7xQDR7BnOdG9tGxKyBll",
      "type": "string"
    }
  ],
  "protocolProfileBehavior": {}
}
